# =======================================
# Spring Boot ä¸»é…ç½® (application.yml)
# =======================================

server:
  # åº”ç”¨ç¨‹åºè¿è¡Œç«¯å£
  port: 8080
  # å¼ºåˆ¶æœåŠ¡ç«¯ä½¿ç”¨ UTF-8 ç¼–ç å“åº”ï¼Œé¿å…å®¢æˆ·ç«¯å‡ºç°ä¸­æ–‡ä¹±ç 
  servlet:
    encoding:
      enabled: true
      charset: UTF-8
      force: true

spring:
  application:
    # åº”ç”¨ç¨‹åºåç§°
    name: suat-gpt-backend
  # ---------------------------------------
  # é‚®ä»¶æœåŠ¡é…ç½® (Agent å‘ä½œä¸šä½¿ç”¨)
  # ---------------------------------------

  mail:
    host: smtp.exmail.qq.com
    port: 465
    username: SUAT24000137@stu.suat-sz.edu.cn
    password: 7vxcMAFpianCVWZT  # å·²å¡«å…¥ä½ åˆšæ‹¿åˆ°çš„æˆæƒç 
    properties:
      mail:
        smtp:
          auth: true
          ssl:
            enable: true # ç«¯å£ 465 å¿…é¡»å¼ºåˆ¶ SSL
  # ---------------------------------------
  # æ•°æ®åº“é…ç½® (H2 å†…å­˜æ•°æ®åº“ - å¼€å‘ç¯å¢ƒ)
  # ---------------------------------------
  datasource:
    # å…³é”®ä¿®æ”¹ï¼šä» mem æ”¹ä¸º file æ¨¡å¼
    # suatgpt æ˜¯æ•°æ®åº“æ–‡ä»¶åï¼Œå®ƒä¼šç”Ÿæˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹
    url: jdbc:h2:file:./data/suatgpt;DB_CLOSE_ON_EXIT=FALSE;AUTO_RECONNECT=TRUE
    driver-class-name: org.h2.Driver
    username: sa
    password:
  jpa:
    hibernate:
      # è°ƒè¯•æœŸå¯ä»¥ç”¨ updateï¼Œå®ƒä¼šä¿ç•™æ•°æ®å¹¶æ›´æ–°è¡¨ç»“æ„
      # åƒä¸‡åˆ«ç”¨ create æˆ– create-dropï¼Œé‚£ä¹Ÿä¼šå¯¼è‡´é‡å¯æ¸…ç©º
      ddl-auto: update
    show-sql: true

  # H2 Console é…ç½®ï¼ˆä»…ç”¨äºå¼€å‘ç¯å¢ƒè°ƒè¯•ï¼‰
  h2:
    console:
      enabled: true # å¯ç”¨ H2 æ§åˆ¶å°
      path: /h2-console # H2 æ§åˆ¶å°è®¿é—®è·¯å¾„

# ---------------------------------------
# JWT (JSON Web Token) é…ç½®
# ---------------------------------------
jwt:
  # ç­¾åå¯†é’¥ (Base64 ç¼–ç )ï¼Œç”¨äº Token çš„ç”Ÿæˆå’ŒéªŒè¯ã€‚
  secret: YmFja2VuZC1rZXktZm9yLXN1YXQtZ3B0LXN0cnVjdHVyZS1leGFhbXBsZS1zZWNydC1oZXJlCg==
  # Token æœ‰æ•ˆæœŸ (æ¯«ç§’)ï¼Œæ­¤å¤„ä¸º 86400000 æ¯«ç§’ (24 å°æ—¶)
  expiration: 86400000

# ---------------------------------------
# CORS (è·¨åŸŸèµ„æºå…±äº«) é…ç½®
# ---------------------------------------
cors:
  # å…è®¸çš„æ¥æº
  allowed-origins: "https://suat.ms1001.com,https://www.suat.ms1001.com,http://localhost:5173,http://127.0.0.1:5173,http://localhost:3000,http://127.0.0.1:3000,http://localhost:3001,http://127.0.0.1:3001"
  # å…è®¸çš„ HTTP æ–¹æ³•
  allowed-methods: "GET,POST,PUT,DELETE,OPTIONS"
  # å…è®¸çš„è¯·æ±‚å¤´ï¼š* è¡¨ç¤ºå…è®¸æ‰€æœ‰è¯·æ±‚å¤´
  allowed-headers: "*"

# ---------------------------------------
# æ—¥å¿—é…ç½®
# ---------------------------------------
logging:
  level:
    suatgpt: DEBUG
    org.springframework.security: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

# ================= AI æœåŠ¡é…ç½® =================
telegram:
  bot:
    token: 8307413700:AAGt_RSwstRuDOSHqgFUn7mov-wN6pstTtc
    username: SUAT_Course_Agent_Bot # è¯·ç¡®ä¿ä¸ BotFather å¤„è®¾ç½®çš„ä¸€è‡´



ai:
  # 1. AnythingLLM (OpenAI å…¼å®¹æ¨¡å¼)
  anything-llm:
    base-url: http://8.153.206.179:3001/api/v1/openai
    api-key: XBFXZHA-2TJ40GQ-GKAS881-DJADW75
    workspace-slug: suat

  # 2. å†…ç½‘ Qwen
  qwen-internal:
    base-url: http://10.22.18.12:40011/v1
    api-key: 2c1730a6-6a03-4e36-a885-39593ff99e37
    model: Qwen3-30B-A3B

  # 3. å†…ç½‘ DeepSeek
  deepseek-internal:
    base-url: http://10.22.18.101:9997/v1
    api-key: sk-vAoZbJylEqxjcSWEboRNifJTAnQMqsjo01BUxJGMBOIy0zjG
    model: deepseek-r1-0528-w8a8

  # 4. Embedding é…ç½® (äº‘ç«¯åˆ†ç‰‡ä½¿ç”¨)
  embedding:
    base-url: http://10.22.18.12:40012/v1
    api-key: 3c1730a6-6a03-4e36-a885-39593ff99e38
    model: Qwen-embedding

  # 5. å…¬ç½‘ Qwen (DashScope)
  qwen-public:
    base-url: https://dashscope.aliyuncs.com/compatible-mode/v1
    api-key: sk-56dbfe08b2124f9791240183bc1b236e

  # 6. å…¬ç½‘ DeepSeek
  deepseek-public:
    base-url: https://api.deepseek.com
    api-key: sk-4815d4f03b24410d88239af4af478e0a

  # 7. å¤‡ç”¨/è‡ªå®šä¹‰ DeepSeek (å¦‚ WeKnora æ¨¡å¼)
#  deepseek:
#    base-url: http://8.153.206.179:8001/api/v1
#    api-key: sk-lE_y8rXBstdEmImQrw4eeGjCcOTm9VCmLBnyXkXqcqFrM3_m
#    model: WeKnora
  deepseek:
    base-url: http://8.153.206.179:8001/api/v1
    api-key: sk-PnleJv1jLp0rtZyoEtz3eXmM2fskQ3cpdZ0NLhZlwG5nkvd3
    # å¡«å…¥ä¹‹å‰ curl æˆåŠŸçš„é‚£ä¸ªé•¿ IDï¼Œä¸è¦å¡« suat
    weknora-session-id: d33e7ac1-9e1a-4b57-9274-f54708867126
    # å¡«å…¥å­¦ç”Ÿå·¥ä½œçŸ¥è¯†åº“ ID
    weknora-kb-id: d54d1559-f271-46a1-a222-ba2f8cdc8cab

# ================= ä»£ç†é…ç½® (æ–°å¢) =================
proxy:
  enabled: true
  host: 127.0.0.1
  # ğŸ›‘ é‡ç‚¹ï¼šè¯·æ ¸å¯¹ä½ çš„ VPN è½¯ä»¶æ˜¾ç¤ºçš„ "HTTP Port" æˆ– "ç«¯å£"
  port: 7897

# åœ¨ application.yml ä¸­æ·»åŠ 
storage:
  path: ${LOG_PATH:/data/suat-gpt/logs/}